CREATE TABLE IF NOT EXISTS "users" (
  "id" uuid NOT NULL,
  "email" text NOT NULL,
  PRIMARY KEY ("id"),
  UNIQUE ("email")
);
COMMENT ON TABLE "users" IS 'uid: tbl:User';
COMMENT ON COLUMN "users"."id" IS 'uid: col_users_id';
COMMENT ON COLUMN "users"."email" IS 'uid: col_users_email';
CREATE TABLE IF NOT EXISTS "posts" (
  "id" uuid NOT NULL,
  "title" text NOT NULL,
  "content" text,
  "author_id" uuid NOT NULL,
  "published_at" timestamptz,
  PRIMARY KEY ("id"),
  FOREIGN KEY ("author_id") REFERENCES "users"("id") ON DELETE NO ACTION
);
COMMENT ON TABLE "posts" IS 'uid: tbl:Post';
COMMENT ON COLUMN "posts"."id" IS 'uid: col_posts_id';
COMMENT ON COLUMN "posts"."title" IS 'uid: col_posts_title';
COMMENT ON COLUMN "posts"."content" IS 'uid: col_posts_content';
COMMENT ON COLUMN "posts"."author_id" IS 'uid: col_posts_author_id';
COMMENT ON COLUMN "posts"."published_at" IS 'uid: col_posts_published_at';
CREATE TABLE IF NOT EXISTS "comments" (
  "id" uuid NOT NULL,
  "content" text NOT NULL,
  "post_id" uuid NOT NULL,
  "author_id" uuid NOT NULL,
  PRIMARY KEY ("id"),
  FOREIGN KEY ("post_id") REFERENCES "posts"("id") ON DELETE NO ACTION,
  FOREIGN KEY ("author_id") REFERENCES "users"("id") ON DELETE NO ACTION
);
COMMENT ON TABLE "comments" IS 'uid: tbl:Comment';
COMMENT ON COLUMN "comments"."id" IS 'uid: col_comments_id';
COMMENT ON COLUMN "comments"."content" IS 'uid: col_comments_content';
COMMENT ON COLUMN "comments"."post_id" IS 'uid: col_comments_post_id';
COMMENT ON COLUMN "comments"."author_id" IS 'uid: col_comments_author_id';
