{
  "version": "1.0.0",
  "timestamp": "2025-01-02T00:00:00Z",
  "coordinator": {
    "name": "Wesley Task Coordinator",
    "mode": "rolling_frontier",
    "description": "Dynamic task scheduling coordinator for Wesley production implementation",
    "configuration": {
      "max_workers": 4,
      "adaptive_workers": true,
      "checkpoint_interval_minutes": 30,
      "heartbeat_interval_seconds": 30,
      "failure_retry_limit": 3,
      "resource_monitoring": true,
      "progress_tracking": true
    }
  },
  "worker_pools": {
    "primary": {
      "id": "primary",
      "name": "Critical Path Workers",
      "count": 2,
      "capabilities": ["database", "cpu_intensive", "memory_intensive"],
      "priority": 1,
      "task_affinity": ["WP1.*", "WP2.T001"],
      "resource_limits": {
        "cpu_cores": 4,
        "memory_gb": 8,
        "database_connections": 2
      }
    },
    "secondary": {
      "id": "secondary",
      "name": "Feature Workers",
      "count": 2,
      "capabilities": ["cpu_intensive", "io_intensive"],
      "priority": 2,
      "task_affinity": ["WP3.*", "WP5.*", "WP6.*"],
      "resource_limits": {
        "cpu_cores": 2,
        "memory_gb": 4,
        "database_connections": 0
      }
    },
    "background": {
      "id": "background",
      "name": "Background Workers",
      "count": 1,
      "capabilities": ["io_intensive", "low_priority"],
      "priority": 3,
      "task_affinity": ["WP4.*"],
      "resource_limits": {
        "cpu_cores": 1,
        "memory_gb": 2,
        "database_connections": 1
      }
    }
  },
  "scheduling": {
    "algorithm": "priority_with_lookahead",
    "lookahead_depth": 3,
    "priority_formula": "(business_value / effort_hours) * (1 - risk_score) * urgency_factor",
    "constraints": {
      "max_concurrent_database_operations": 2,
      "max_concurrent_cic_operations": 1,
      "max_memory_usage_gb": 16,
      "max_cpu_usage_percent": 80
    },
    "strategies": {
      "critical_path": {
        "description": "Focus on unblocking dependencies",
        "weight": 0.6,
        "rules": [
          "Prioritize tasks on critical path",
          "Minimize total project duration",
          "Unblock maximum downstream tasks"
        ]
      },
      "resource_balance": {
        "description": "Optimize resource utilization",
        "weight": 0.3,
        "rules": [
          "Balance load across workers",
          "Minimize resource conflicts",
          "Avoid resource starvation"
        ]
      },
      "risk_mitigation": {
        "description": "Reduce project risk",
        "weight": 0.1,
        "rules": [
          "Complete high-risk tasks early",
          "Create checkpoint opportunities",
          "Maintain rollback capability"
        ]
      }
    }
  },
  "state_management": {
    "storage": {
      "type": "filesystem",
      "path": ".wesley/coordinator",
      "format": "json",
      "compression": false
    },
    "checkpoints": {
      "automatic": true,
      "manual_trigger": "SIGUSR1",
      "retention_count": 10,
      "include": [
        "completed_tasks",
        "in_progress_tasks",
        "task_outputs",
        "resource_state",
        "worker_state"
      ]
    },
    "recovery": {
      "mode": "resume_from_checkpoint",
      "verification": true,
      "rollback_on_failure": true,
      "cleanup_on_success": true
    }
  },
  "monitoring": {
    "metrics": {
      "task_completion_rate": {
        "type": "gauge",
        "unit": "tasks_per_hour",
        "window": "rolling_1h"
      },
      "resource_utilization": {
        "type": "gauge",
        "unit": "percent",
        "resources": ["cpu", "memory", "database", "io"]
      },
      "critical_path_progress": {
        "type": "gauge",
        "unit": "percent",
        "calculation": "completed_critical_tasks / total_critical_tasks"
      },
      "estimated_time_remaining": {
        "type": "gauge",
        "unit": "hours",
        "calculation": "remaining_effort / current_velocity"
      }
    },
    "alerts": {
      "task_failure": {
        "threshold": 1,
        "action": "notify",
        "severity": "warning"
      },
      "worker_crash": {
        "threshold": 1,
        "action": "restart_worker",
        "severity": "error"
      },
      "resource_exhaustion": {
        "threshold": "90%",
        "action": "throttle",
        "severity": "warning"
      },
      "checkpoint_failure": {
        "threshold": 1,
        "action": "pause_execution",
        "severity": "critical"
      }
    },
    "reporting": {
      "console": {
        "enabled": true,
        "level": "info",
        "format": "pretty"
      },
      "file": {
        "enabled": true,
        "path": ".wesley/logs/coordinator.log",
        "level": "debug",
        "rotation": "daily"
      },
      "dashboard": {
        "enabled": false,
        "port": 3000,
        "refresh_interval_seconds": 5
      }
    }
  },
  "failure_handling": {
    "task_failures": {
      "retry_strategy": "exponential_backoff",
      "max_retries": 3,
      "backoff_base_seconds": 10,
      "failure_classification": {
        "transient": ["timeout", "resource_unavailable"],
        "permanent": ["syntax_error", "validation_failure"],
        "unknown": ["unexpected_error"]
      }
    },
    "worker_failures": {
      "detection": "heartbeat_timeout",
      "recovery": "restart_with_state",
      "max_restarts": 5,
      "restart_delay_seconds": 30
    },
    "coordinator_failures": {
      "detection": "external_monitor",
      "recovery": "resume_from_checkpoint",
      "state_verification": true
    }
  },
  "optimization": {
    "dynamic_adjustment": {
      "enabled": true,
      "interval_minutes": 15,
      "parameters": [
        "worker_count",
        "task_priority",
        "resource_allocation"
      ]
    },
    "learning": {
      "enabled": false,
      "model": "simple_regression",
      "features": ["task_type", "effort_estimate", "dependencies"],
      "target": "actual_duration"
    },
    "bottleneck_detection": {
      "enabled": true,
      "analysis_interval_minutes": 30,
      "mitigation_strategies": [
        "increase_worker_pool",
        "reorder_tasks",
        "split_large_tasks"
      ]
    }
  },
  "integration": {
    "cli": {
      "commands": {
        "start": "wesley coordinator start",
        "status": "wesley coordinator status",
        "pause": "wesley coordinator pause",
        "resume": "wesley coordinator resume",
        "checkpoint": "wesley coordinator checkpoint",
        "report": "wesley coordinator report"
      }
    },
    "api": {
      "enabled": false,
      "protocol": "http",
      "port": 8080,
      "endpoints": [
        "/status",
        "/tasks",
        "/workers",
        "/metrics",
        "/checkpoint"
      ]
    },
    "notifications": {
      "channels": ["console", "file"],
      "events": [
        "task_started",
        "task_completed",
        "task_failed",
        "worker_started",
        "worker_stopped",
        "checkpoint_created",
        "phase_completed"
      ]
    }
  },
  "simulation": {
    "enabled": false,
    "mode": "monte_carlo",
    "iterations": 1000,
    "parameters": {
      "task_duration_variance": 0.3,
      "failure_probability": 0.05,
      "resource_contention": 0.2
    },
    "outputs": {
      "completion_time_distribution": true,
      "critical_path_analysis": true,
      "resource_utilization_chart": true,
      "risk_assessment": true
    }
  }
}